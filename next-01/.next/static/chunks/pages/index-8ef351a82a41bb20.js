(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7968)}])},9531:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(4051),a=n.n(r),s=n(5893),o=n(7294),i=n(4184),c=n.n(i),l=n(6792),d=n(6611),u=n(9602);const m=o.forwardRef((({bsPrefix:e,className:t,variant:n,as:r="img",...a},o)=>{const i=(0,l.vE)(e,"card-img");return(0,s.jsx)(r,{ref:o,className:c()(n?`${i}-${n}`:i,t),...a})}));m.displayName="CardImg";var h=m,f=n(9059);const p=o.forwardRef((({bsPrefix:e,className:t,as:n="div",...r},a)=>{const i=(0,l.vE)(e,"card-header"),d=(0,o.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,s.jsx)(f.Z.Provider,{value:d,children:(0,s.jsx)(n,{ref:a,...r,className:c()(t,i)})})}));p.displayName="CardHeader";var v=p;const x=(0,u.Z)("h5"),j=(0,u.Z)("h6"),g=(0,d.Z)("card-body"),b=(0,d.Z)("card-title",{Component:x}),w=(0,d.Z)("card-subtitle",{Component:j}),N=(0,d.Z)("card-link",{Component:"a"}),y=(0,d.Z)("card-text",{Component:"p"}),k=(0,d.Z)("card-footer"),P=(0,d.Z)("card-img-overlay"),C=o.forwardRef((({bsPrefix:e,className:t,bg:n,text:r,border:a,body:o,children:i,as:d="div",...u},m)=>{const h=(0,l.vE)(e,"card");return(0,s.jsx)(d,{ref:m,...u,className:c()(t,h,n&&`bg-${n}`,r&&`text-${r}`,a&&`border-${a}`),children:o?(0,s.jsx)(g,{children:i}):i})}));C.displayName="Card",C.defaultProps={body:!1};var _=Object.assign(C,{Img:h,Title:b,Subtitle:w,Body:g,Link:N,Text:y,Header:v,Footer:k,ImgOverlay:P}),E=n(5005),S=n(214),Z=n.n(S),I=n(9704),T=n.n(I),F=n(1163),U=n(5617),H=n(9926);function O(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}var D=function(e){var t=e.title,n=e.description,r=e.imgUrl,o=e.author,i=e.time,c=e.id,l=(0,U.v9)((function(e){return e.all.apiUrl})),d=function(){var e,t=(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l,"/blogs/delete"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token"),id:c}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){O(s,r,a,o,i,"next",e)}function i(e){O(s,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),u=(0,U.I0)(),m=(0,U.v9)((function(e){var t;return null===(t=e.all)||void 0===t?void 0:t.blogIdtoUpdate}));return(0,s.jsxs)(_,{onClick:function(){F.default.push({pathname:"/blogs/"+c,query:{title:t,description:n,imgUrl:r,author:o,time:i,id:c}},"/blogs/".concat(c))},style:{minWidth:"18rem",maxHeight:"30rem"},className:"col-12 col-md-3 m-2 ".concat(Z().card),children:[(0,s.jsx)(_.Img,{style:{maxHeight:"10rem",objectFit:"cover"},variant:"top",src:r}),(0,s.jsxs)(_.Body,{children:[(0,s.jsx)(_.Title,{children:t}),(0,s.jsx)(_.Text,{style:{textOverflow:"elipsis",overflow:"hidden",maxHeight:"5rem"},children:n})]}),(0,s.jsxs)(_.Footer,{children:[(0,s.jsxs)("small",{className:"text-muted",children:["Last updated ",i," ago"]}),o===T().decode(localStorage.getItem("token")).id?(0,s.jsxs)("span",{className:"d-flex",children:[(0,s.jsx)(E.Z,{variant:"outline-danger",className:"me-3",onClick:function(e){e.stopPropagation(),d()},children:"Delete"}),(0,s.jsx)(E.Z,{variant:"outline-info",onClick:function(e){e.stopPropagation(),u((0,H.rD)(c)),u((0,H.dh)(!0)),console.log(m)},children:"Update"})]}):(0,s.jsx)(s.Fragment,{})]})]})}},7968:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(4051),a=n.n(r),s=n(5893),o=n(9008),i=n(7294),c=(n(3455),n(682)),l=n(9531);n(4826);var d=function(e){var t=e.datas;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"row d-flex justify-content-center",children:t.length>0?t.map((function(e,t){return(0,s.jsx)(l.Z,{title:e.title,description:e.description,author:e.author,imgUrl:e.image,time:e.createdAt,id:e._id},t)})):(0,s.jsx)("h1",{children:"Unauthorized or no blogs"})})})})},u=n(5617),m=n(214),h=n.n(m);function f(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){f(s,r,a,o,i,"next",e)}function i(e){f(s,r,a,o,i,"throw",e)}o(void 0)}))}}function v(e){var t=e.sIL,n=(0,u.v9)((function(e){return e.all.apiUrl})),r=function(){var e=p(a().mark((function e(t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target[0].value),console.log(t.target[1].value),e.prev=3,e.next=6,fetch("".concat(n,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.target[0].value,password:t.target[1].value})});case 6:return r=e.sent,e.next=9,r.json();case 9:(s=e.sent).user?(localStorage.setItem("token",s.token),window.location.href="/"):alert("Invalid credentials"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)("form",{className:h().login,onSubmit:function(e){return r(e)},children:[(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Email"}),(0,s.jsx)("div",{className:"col-sm-10",children:(0,s.jsx)("input",{type:"email",className:"form-control",id:"inputEmail3"})})]}),(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("label",{htmlFor:"inputPassword3",className:"col-sm-2 col-form-label",children:"Password"}),(0,s.jsx)("div",{className:"col-sm-10",children:(0,s.jsx)("input",{type:"password",className:"form-control",id:"inputPassword3"})})]}),(0,s.jsx)("div",{className:"row mb-3",children:(0,s.jsx)("div",{className:"col-sm-10 offset-sm-2",children:(0,s.jsxs)("div",{className:"form-check",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"gridCheck1"}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"gridCheck1",children:"Remember me"})]})})}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary me-4",children:"Sign in"}),(0,s.jsx)("button",{var:!0,onClick:function(e){console.log(e.value),e.preventDefault(),t(!1)},className:"btn btn-outline-info",children:"Register"})]})}function x(){var e=(0,u.v9)((function(e){return e.all.apiUrl})),t=function(){var t=p(a().mark((function t(n){var r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),n.target[2].value===n.target[3].value){t.next=4;break}return alert("Passwords do not match"),t.abrupt("return");case 4:return t.prev=4,t.next=7,fetch("".concat(e,"/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.target[0].value,email:n.target[1].value,password:n.target[2].value})});case 7:return r=t.sent,t.next=10,r.json();case 10:(s=t.sent).user?(localStorage.setItem("token",s.token),window.location.href="/"):alert("something went wrong"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}();return(0,s.jsxs)("form",{className:"".concat(h().login),onSubmit:t,children:[(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("label",{htmlFor:"inputname",className:"col-sm-2 col-form-label",children:"Username"}),(0,s.jsx)("div",{className:"col-sm-10",children:(0,s.jsx)("input",{type:"text",className:"form-control",name:"email",id:"inputEmail3"})})]}),(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Email"}),(0,s.jsx)("div",{className:"col-sm-10",children:(0,s.jsx)("input",{type:"email",className:"form-control",name:"email",id:"inputEmail3"})})]}),(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("label",{htmlFor:"inputPassword3",className:"col-sm-2 col-form-label",children:"Password"}),(0,s.jsx)("div",{className:"col-sm-10",children:(0,s.jsx)("input",{type:"password",name:"password",className:"form-control",id:"inputPassword3"})})]}),(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("label",{htmlFor:"inputPassword3",className:"col-sm-2 col-form-label",children:"Confirm Password"}),(0,s.jsx)("div",{className:"col-sm-10",children:(0,s.jsx)("input",{type:"password",name:"password2",className:"form-control",id:"inputPassword3"})})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary me-4",children:"Sign up"})]})}var j=function(){var e=(0,i.useState)(!0),t=e[0],n=e[1];return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:t?(0,s.jsx)(v,{sIL:n}):(0,s.jsx)(x,{})})},g=n(9704),b=n.n(g),w=n(9926);function N(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function y(e){e.creating,e.setCreating;var t,n=(0,i.useState)(null),r=n[0],c=n[1],l=(0,i.useState)(null),m=l[0],h=l[1],f=(0,u.I0)(),p=(0,u.v9)((function(e){return e.all.apiUrl}));return(0,i.useEffect)((t=a().mark((function e(){var t,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),console.log(t),e.next=4,fetch("".concat(p,"/blogs"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,f((0,w.Zz)(s)),h(s),t&&(c(b().decode(t)),console.log(r));case 11:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(e){N(s,r,a,o,i,"next",e)}function i(e){N(s,r,a,o,i,"throw",e)}o(void 0)}))}),[]),(0,s.jsxs)("div",{children:[(0,s.jsxs)(o.default,{children:[(0,s.jsx)("title",{children:"Topics"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("main",{children:r?(0,s.jsx)(d,{datas:m}):(0,s.jsx)(j,{})})]})}},214:function(e){e.exports={card:"Home_card___LpL1",login:"Home_login___4DHh"}},9008:function(e,t,n){e.exports=n(5443)},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);