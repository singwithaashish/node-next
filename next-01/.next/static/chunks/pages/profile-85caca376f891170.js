(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{880:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(6306)}])},9531:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(4051),o=r.n(n),a=r(5893),s=r(7294),i=r(4184),c=r.n(i),l=r(6792),d=r(6611),u=r(9602);const m=s.forwardRef((({bsPrefix:e,className:t,variant:r,as:n="img",...o},s)=>{const i=(0,l.vE)(e,"card-img");return(0,a.jsx)(n,{ref:s,className:c()(r?`${i}-${r}`:i,t),...o})}));m.displayName="CardImg";var f=m,h=r(9059);const p=s.forwardRef((({bsPrefix:e,className:t,as:r="div",...n},o)=>{const i=(0,l.vE)(e,"card-header"),d=(0,s.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,a.jsx)(h.Z.Provider,{value:d,children:(0,a.jsx)(r,{ref:o,...n,className:c()(t,i)})})}));p.displayName="CardHeader";var x=p;const v=(0,u.Z)("h5"),g=(0,u.Z)("h6"),j=(0,d.Z)("card-body"),b=(0,d.Z)("card-title",{Component:v}),y=(0,d.Z)("card-subtitle",{Component:g}),N=(0,d.Z)("card-link",{Component:"a"}),w=(0,d.Z)("card-text",{Component:"p"}),_=(0,d.Z)("card-footer"),k=(0,d.Z)("card-img-overlay"),C=s.forwardRef((({bsPrefix:e,className:t,bg:r,text:n,border:o,body:s,children:i,as:d="div",...u},m)=>{const f=(0,l.vE)(e,"card");return(0,a.jsx)(d,{ref:m,...u,className:c()(t,f,r&&`bg-${r}`,n&&`text-${n}`,o&&`border-${o}`),children:s?(0,a.jsx)(j,{children:i}):i})}));C.displayName="Card",C.defaultProps={body:!1};var P=Object.assign(C,{Img:f,Title:b,Subtitle:y,Body:j,Link:N,Text:w,Header:x,Footer:_,ImgOverlay:k}),Z=r(5005),E=r(214),H=r.n(E),T=r(9704),I=r.n(T),U=r(1163),D=r(5617),S=r(9926);function $(e,t,r,n,o,a,s){try{var i=e[a](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,o)}var B=function(e){var t=e.title,r=e.description,n=e.imgUrl,s=e.author,i=e.time,c=e.id,l=(0,D.v9)((function(e){return e.all.apiUrl})),d=function(){var e,t=(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l,"/blogs/delete"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token"),id:c}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){$(a,n,o,s,i,"next",e)}function i(e){$(a,n,o,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),u=(0,D.I0)(),m=(0,D.v9)((function(e){var t;return null===(t=e.all)||void 0===t?void 0:t.blogIdtoUpdate}));return(0,a.jsxs)(P,{onClick:function(){U.default.push({pathname:"/blogs/"+c,query:{title:t,description:r,imgUrl:n,author:s,time:i,id:c}},"/blogs/".concat(c))},style:{minWidth:"18rem",maxHeight:"30rem"},className:"col-12 col-md-3 m-2 ".concat(H().card),children:[(0,a.jsx)(P.Img,{style:{maxHeight:"10rem",objectFit:"cover"},variant:"top",src:n}),(0,a.jsxs)(P.Body,{children:[(0,a.jsx)(P.Title,{children:t}),(0,a.jsx)(P.Text,{style:{textOverflow:"elipsis",overflow:"hidden",maxHeight:"5rem"},children:r})]}),(0,a.jsxs)(P.Footer,{children:[(0,a.jsxs)("small",{className:"text-muted",children:["Last updated ",i," ago"]}),s===I().decode(localStorage.getItem("token")).id?(0,a.jsxs)("span",{className:"d-flex",children:[(0,a.jsx)(Z.Z,{variant:"outline-danger",className:"me-3",onClick:function(e){e.stopPropagation(),d()},children:"Delete"}),(0,a.jsx)(Z.Z,{variant:"outline-info",onClick:function(e){e.stopPropagation(),u((0,S.rD)(c)),u((0,S.dh)(!0)),console.log(m)},children:"Update"})]}):(0,a.jsx)(a.Fragment,{})]})]})}},6306:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(4051),o=r.n(n),a=r(5893),s=r(7294),i=r(4184),c=r.n(i),l=r(5697),d=r.n(l),u=r(6792);d().string,d().bool,d().bool,d().bool,d().bool;const m=s.forwardRef((({bsPrefix:e,className:t,fluid:r,rounded:n,roundedCircle:o,thumbnail:s,...i},l)=>(e=(0,u.vE)(e,"img"),(0,a.jsx)("img",{ref:l,...i,className:c()(t,r&&`${e}-fluid`,n&&"rounded",o&&"rounded-circle",s&&`${e}-thumbnail`)}))));m.displayName="Image",m.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var f=m,h=r(682),p=r(5617),x=r(9531);function v(e,t,r,n,o,a,s){try{var i=e[a](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,o)}var g=function(){var e,t=(0,s.useState)(null),r=t[0],n=t[1],i=(0,s.useState)(null),c=i[0],l=i[1],d=(0,p.v9)((function(e){return e.all.apiUrl}));return(0,s.useEffect)((e=o().mark((function e(){var t,a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,console.log(a.user),e.next=9,fetch("".concat(d,"/blogs/by/").concat(a.user._id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 9:return s=e.sent,e.next=12,s.json();case 12:i=e.sent,l(i),console.log(a.user),n(a.user),console.log(r);case 17:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){v(a,n,o,s,i,"next",e)}function i(e){v(a,n,o,s,i,"throw",e)}s(void 0)}))}),[]),(0,a.jsxs)(h.Z,{children:[(0,a.jsxs)("div",{className:"top d-flex align-items-center py-3 border-bottom border-primary",children:[(0,a.jsx)(f,{fluid:!0,rounded:!0,src:"https://images.unsplash.com/photo-1621243547624-c40189fed5e7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDZ8aFNQNkp4OHc0WjR8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60",alt:"user",style:{width:"300px",height:"300px",objectFit:"cover"}}),(0,a.jsxs)("div",{className:"right",children:[(0,a.jsx)("h1",{className:"text-primary",children:"Username"}),(0,a.jsx)("h5",{className:"text-secondary",children:"singwithaashish@gmail.com"}),(0,a.jsx)("h6",{className:"text-muted",children:"user since 2020"})]})]}),(0,a.jsxs)("div",{className:"bottom",children:[(0,a.jsx)("h2",{children:"Posts"}),(0,a.jsx)("div",{className:"posts row d-flex justify-content-center",children:c?c.map((function(e){return(0,a.jsx)(x.Z,{title:e.title,description:e.description,imgUrl:e.image,author:e.author,time:e.createdAt,id:e._id},e._id)})):null})]})]})}},214:function(e){e.exports={card:"Home_card___LpL1",login:"Home_login___4DHh"}},1163:function(e,t,r){e.exports=r(387)}},function(e){e.O(0,[774,888,179],(function(){return t=880,e(e.s=t);var t}));var t=e.O();_N_E=t}]);